<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Random Walks and Martingales</title>
    
    <!-- MathJax for LaTeX rendering -->
    <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
    <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script>
        window.MathJax = {
            tex: {
                inlineMath: [['$', '$'], ['\\(', '\\)']],
                displayMath: [['$$', '$$'], ['\\[', '\\]']]
            }
        };
    </script>
    
    <style>
        body {
            font-family: Arial, sans-serif;
            background: black;
            margin: 0;
            padding: 20px;
            min-height: 100vh;
        }
        
        .container {
            max-width: 800px;
            margin: 0 auto;
            background: black;
            border-radius: 15px;
            padding: 40px;
            box-shadow: 0 8px 25px rgba(0,0,0,0.2);
        }
        
        .back-button {
            display: inline-block;
            background: black;
            color: white;
            border: 1px solid #666;
            padding: 10px 20px;
            text-decoration: none;
            border-radius: 5px;
            margin-bottom: 20px;
            transition: background 0.3s ease;
        }
        
        .back-button:hover {
            background: #666;
        }
        
        h1 {
            color: white;
            text-align: center;
            margin-bottom: 30px;
        }
        
        .problem {
            background: #1a1a1a;
            border-left: 4px solid #28a745;
            padding: 20px;
            margin: 20px 0;
            border-radius: 5px;
            color: white;
            line-height: 1.8;
        }
        
        /* Green to Yellow gradient (A♣ to 7♣) */
        .problem:nth-child(3) { border-left-color: #00ff00; } /* A♣ - Pure Green */
        .problem:nth-child(4) { border-left-color: #2aff00; } /* 2♣ - Green-Yellow */
        .problem:nth-child(5) { border-left-color: #55ff00; } /* 3♣ - Green-Yellow */
        .problem:nth-child(6) { border-left-color: #80ff00; } /* 4♣ - Yellow-Green */
        .problem:nth-child(7) { border-left-color: #aaff00; } /* 5♣ - Yellow-Green */
        .problem:nth-child(8) { border-left-color: #d5ff00; } /* 6♣ - Yellow */
        .problem:nth-child(9) { border-left-color: #ffff00; } /* 7♣ - Pure Yellow */
        
        /* Yellow to Red gradient (8♣ to K♣) */
        .problem:nth-child(10) { border-left-color: #ffd500; } /* 8♣ - Yellow-Orange */
        .problem:nth-child(11) { border-left-color: #ffaa00; } /* 9♣ - Orange */
        .problem:nth-child(12) { border-left-color: #ff8000; } /* 10♣ - Orange-Red */
        .problem:nth-child(13) { border-left-color: #ff5500; } /* J♣ - Red-Orange */
        .problem:nth-child(14) { border-left-color: #ff2a00; } /* Q♣ - Red */
        .problem:nth-child(15) { border-left-color: #ff0000; } /* K♣ - Pure Red */
        
        .problem h3 {
            font-size: 1.4em;
            margin-top: -3px;
            margin-bottom: -10px;
        }
        
        /* Match h3 colors to border colors */
        .problem:nth-child(3) h3 { color: #00ff00;  } /* A♣ */
        .problem:nth-child(4) h3 { color: #2aff00; } /* 2♣ */
        .problem:nth-child(5) h3 { color: #55ff00; } /* 3♣ */
        .problem:nth-child(6) h3 { color: #80ff00; } /* 4♣ */
        .problem:nth-child(7) h3 { color: #aaff00; } /* 5♣ */
        .problem:nth-child(8) h3 { color: #d5ff00; } /* 6♣ */
        .problem:nth-child(9) h3 { color: #ffff00; } /* 7♣ */
        .problem:nth-child(10) h3 { color: #ffd500; } /* 8♣ */
        .problem:nth-child(11) h3 { color: #ffaa00; } /* 9♣ */
        .problem:nth-child(12) h3 { color: #ff8000; } /* 10♣ */
        .problem:nth-child(13) h3 { color: #ff5500; } /* J♣ */
        .problem:nth-child(14) h3 { color: #ff2a00; } /* Q♣ */
        .problem:nth-child(15) h3 { color: #ff0000; } /* K♣ */
        
        .probability-scenario {
            background: #2a2a2a;
            border: 1px solid #444;
            border-radius: 5px;
            padding: 15px;
            margin: 15px 0;
            font-style: italic;
            line-height: 1.6;
            color: #ccc;
        }
        
        .answer-section {
            margin: 20px 0;
        }
        
        input[type="number"], input[type="text"] {
            padding: 10px;
            border: 2px solid #ddd;
            border-radius: 5px;
            font-size: 16px;
            width: 200px;
        }
        
        button {
            background: #28a745;
            color: white;
            padding: 10px 20px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-size: 16px;
            margin-left: 10px;
        }
        
        button:hover {
            background: #218838;
        }
        
        .result {
            margin-top: 10px;
            padding: 10px;
            border-radius: 5px;
            font-weight: bold;
        }
        
        .correct {
            background: #d4edda;
            color: #155724;
            border: 1px solid #c3e6cb;
        }
        
        .incorrect {
            background: #f8d7da;
            color: #721c24;
            border: 1px solid #f5c6cb;
        }

        .tab-indent {
            padding-left: 2em;
            display: block;
        }
        
    </style>
</head>
<body>
    <div class="container">
        <a href="index.html" class="back-button">← Back to Jane Street Cards</a>
        
        <h1>♠ Random Walk and Martingales</h1>
        
        <div class="problem">
            <h3>A♠</h3>
            <p>
                Two crabs are facing each other on the beach. Each second they randomly walk one 
                step to the right or one step to the left (independently). After $6$ seconds,
                what is the chance they are still across from each other?
            </p>
            <div class="answer-section">
                <input type="number" id="answer1" placeholder="Answer">
                <button onclick="checkAnswer('1', 7)">Check Answer</button>
                <div id="result1" class="result" style="display: none;"></div>
            </div>
        </div>

        <div class="problem">
            <h3>2♠</h3>
            <p>
                A bee left some honeycomb on the ground and now a very long trail of red and black
                ants (in random order) has formed. 
                <span class="tab-indent">a) Which is more likely to appear first in the trail,
                two black ants in a row (<strong>BB</strong>) or a red ant followed by a black ant
                (<strong>RB</strong>)?</span>
                <span class="tab-indent">b) How many ants does it take on average to see 
                <strong>BB</strong> or <strong>RB</strong>?</span>
                <span class="tab-indent">c) What about <strong>BBR</strong>? </span>
            </p>
            <div class="answer-section">
                <input type="number" id="answer2a" placeholder="Answer">
                <button onclick="checkAnswer('2a', 7)">Check Answer</button>
                <div id="result2a" class="result" style="display: none;"></div>
            </div>
            <div class="answer-section">
                <input type="number" id="answer2b" placeholder="Answer">
                <button onclick="checkAnswer('2b', 7)">Check Answer</button>
                <div id="result2b" class="result" style="display: none;"></div>
            </div>
                        <div class="answer-section">
                <input type="number" id="answer2c" placeholder="Answer">
                <button onclick="checkAnswer('2c', 7)">Check Answer</button>
                <div id="result2c" class="result" style="display: none;"></div>
            </div>
        </div>

        <div class="problem">
            <h3>3♠</h3>
            <p>
                A turtle is staring out at the horizon, one step away from the ocean. The turtle
                takes random steps, with probability $\frac{2}{3}$ back toward the top of the beach
                and with probability $\frac{1}{3}$ toward the ocean. What's the chance the turtle 
                ever makes it to the ocean?
            </p>
            <div class="answer-section">
                <input type="number" id="answer3" placeholder="Answer">
                <button onclick="checkAnswer('3', 7)">Check Answer</button>
                <div id="result3" class="result" style="display: none;"></div>
            </div>
        </div>

        <div class="problem">
            <h3>4♠</h3>
            <p>
                A bunny cannot decide where to take a nap. there is a rose bush $4$ steps to the
                left and sunflowers $8$ steps to the right. The bunny is $25%$ to step toward the roses
                and $75%$ to step toward the sunflowers. How many steps (on average) does it take
                until the bunny can get some rest?
            </p>
            <div class="answer-section">
                <input type="number" id="answer4" placeholder="Answer">
                <button onclick="checkAnswer('4', 7)">Check Answer</button>
                <div id="result4" class="result" style="display: none;"></div>
            </div>
        </div>

        <div class="problem">
            <h3>5♠</h3>
            <p>
                A beaver is looking for materials for her dam. There is a long mountain and a 
                long river 20 steps apart (and parallel). The beaver randomly steps N, S, E, W on her 
                search (if a step would take her up the mountain, she would step toward the river
                instead). If she is at the mountain, how many steps can she expect it to take to return
                to the river?
            </p>
            <div class="answer-section">
                <input type="number" id="answer5" placeholder="Answer">
                <button onclick="checkAnswer('5', 7)">Check Answer</button>
                <div id="result5" class="result" style="display: none;"></div>
            </div>
        </div>

        <div class="problem">
            <h3>6♠</h3>
            <p>
                A chipmunk is stuffing its mouth full of acorns. Right now, it has $6$. Every second,
                with probability $\frac{2}{3}$, it stuffs another in its mouth, otherwise it drops one.
                The chipmunk continues until either its mouth is full (it can hold 36 acorns!) or empty.
                How likely is the chipmunk to leave hungry? 
            </p>
            <div class="answer-section">
                <input type="number" id="answer6" placeholder="Answer">
                <button onclick="checkAnswer('6', 7)">Check Answer</button>
                <div id="result6" class="result" style="display: none;"></div>
            </div>
        </div>

        <div class="problem">
            <h3>7♠</h3>
            <p>
                A crow and a raven are each picking up coins off the street at the same pace. They
                are clever and keep track of who has picked up more coins that were facing heads
                than tails after each coin. They each collect $N$ in total. What is the chance they
                never had collected the same number of heads after they started?
            </p>
            <div class="answer-section">
                <input type="number" id="answer7" placeholder="Answer">
                <button onclick="checkAnswer('7', 7)">Check Answer</button>
                <div id="result7" class="result" style="display: none;"></div>
            </div>
        </div>

        <div class="problem">
            <h3>8♠</h3>
            <p>
                $B$ blue jays and $C$ cardinals are sitting together in a tree. The birds all 
                politely take turns flying away (meaning that the bird that flew away was equally 
                likely to be any of the remaining birds). What is the chance that at some point the
                the same number of blue jays as cardinals have flown away?
            </p>
            <div class="answer-section">
                <input type="number" id="answer8" placeholder="Answer">
                <button onclick="checkAnswer('8', 7)">Check Answer</button>
                <div id="result8" class="result" style="display: none;"></div>
            </div>
        </div>

        <div class="problem">
            <h3>9♠</h3>
            <p>
                Two monkeys are playing a variant of war with a deck of $2N$ cards numbered $1-2N$.
                Each monkey starts with $N$ random cards and every turn, both monkeys select a random
                card from their hand. The monkey with the higher card wins both cards. The game
                ends when only one monkey has cards. How many turns does the game take on average?
            </p>
            <div class="answer-section">
                <input type="number" id="answer9" placeholder="Answer">
                <button onclick="checkAnswer('9', 7)">Check Answer</button>
                <div id="result9" class="result" style="display: none;"></div>
            </div>
        </div>

        <div class="problem">
            <h3>10♠</h3>
            <p>
                A confused antelope is looking for food and each second takes a random step equally
                likely to be N, S, E, or W. What is the probability that the antelope ever makes it
                back to where it started?
            </p>
            <div class="answer-section">
                <input type="number" id="answer10" placeholder="Answer">
                <button onclick="checkAnswer('10', 7)">Check Answer</button>
                <div id="result10" class="result" style="display: none;"></div>
            </div>
        </div>

        <div class="problem">
            <h3>J♠</h3>
            <p>
                * A hawk is flying around in 3D space. Don't worry-- it is not bound by silly rules
                like gravity and can burrow deep into the ground. Every moment, it takes
                a step in the horizontal, vertical, forward/backward direction. What is the
                probability that the hawk ever returns to where it started?
            </p>
            <div class="answer-section">
                <input type="number" id="answerJ" placeholder="Answer">
                <button onclick="checkAnswer('J', 7)">Check Answer</button>
                <div id="resultJ" class="result" style="display: none;"></div>
            </div>
        </div>

        <div class="problem">
            <h3>Q♠</h3>
            <p>
                * A bee is wandering around an infinitely large beehive, walking along the edges of a 
                hexagonal honeycomb 2D lattice. This bee is very efficient and does not want to walk along
                an edge it previously walked on. For very large $n$, approximately how many possible $n$
                step walks are there that the bee could take from a given starting position?
            </p>
            <div class="answer-section">
                <input type="number" id="answerQ" placeholder="Answer">
                <button onclick="checkAnswer('Q', 7)">Check Answer</button>
                <div id="resultQ" class="result" style="display: none;"></div>
            </div>
        </div>

        <div class="problem">
            <h3>K♠</h3>
            <p>
                ** Your dog is taking itself for a walk around Manhattan, a perfect infinite 2D grid.
                Your dog likes to explore, so it never wants to visit the same block twice.
                <span class="tab-indent">a) How many $4$-block walks could your dog take?</span>
                <span class="tab-indent">b) How about $n$-block walks for large $n$?</span>
            </p>
            <div class="answer-section">
                <input type="number" id="answerK" placeholder="Answer">
                <button onclick="checkAnswer('K', 7)">Check Answer</button>
                <div id="resultK" class="result" style="display: none;"></div>
            </div>
        </div>

    <script>
        function checkAnswer(problemNum, correctAnswer) {
            const userAnswer = parseFloat(document.getElementById(`answer${problemNum}`).value);
            const resultDiv = document.getElementById(`result${problemNum}`);
            
            resultDiv.style.display = 'block';
            
            const tolerance = 0.1;
            if (Math.abs(userAnswer - correctAnswer) <= tolerance) {
                resultDiv.className = 'result correct';
                resultDiv.textContent = '✅ Correct! Well done!';
            } else {
                resultDiv.className = 'result incorrect';
                resultDiv.textContent = `❌ Incorrect. The correct answer is ${correctAnswer}.`;
            }
        }
        
        function showHint(problemNum) {
            const hintDiv = document.getElementById(`hint${problemNum}`);
            hintDiv.style.display = hintDiv.style.display === 'none' ? 'block' : 'none';
        }
    </script>
</body>
</html>
